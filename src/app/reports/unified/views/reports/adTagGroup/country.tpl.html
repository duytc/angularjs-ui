<div ng-if="hasResult" ng-init="setDataSelect([{key: 'adTagGroupName', label: ('UNIFIED_REPORT_MODULE.AD_TAG_GROUP' | translate)}, {key: 'countryName', label: ('UNIFIED_REPORT_MODULE.COUNTRY' | translate)}], (modelSelect.length > 0 ? modelSelect : [{id: 'adTagGroupName'}, {id: 'countryName'}]))">
    <div class="row">
        <div class="col-md-4">
            <section class="panel panel-box info-box">
                <div class="panel-item bg-reverse">
                    <p class="size-h1 no-margin">{{ reportGroup.totalImps | number }}</p>
                    <p class="text-muted no-margin">{{ 'UNIFIED_REPORT_MODULE.TOTAL_IMPS' | translate }}</p>
                </div>
            </section>
        </div>

        <div class="col-md-4">
            <section class="panel panel-box info-box">
                <div class="panel-item bg-reverse">
                    <p class="size-h1 no-margin">{{ reportGroup.paidImps | number }}</p>
                    <p class="text-muted no-margin">{{ 'UNIFIED_REPORT_MODULE.PAID_IMPS' | translate }}</p>
                </div>
            </section>
        </div>

        <div class="col-md-4">
            <section class="panel panel-box info-box">
                <div class="panel-item bg-reverse">
                    <p class="size-h1 no-margin">{{ reportGroup.fillRate | percentage }}</p>
                    <p class="text-muted no-margin">{{ 'REPORT.FILL_RATE' | translate }}</p>
                </div>
            </section>
        </div>
    </div>

    <div class="panel panel-default daily-reports">
        <div class="panel-heading"><span class="glyphicon glyphicon-th"></span>
            Details
        </div>

        <form class="form-inline unified-search" ng-submit="searchData()">
            <input class="form-control" ng-model="selectData.query" placeholder="{{ 'UNIFIED_REPORT_MODULE.SEARCH' | translate }}" type="text"/>
            <button type="submit" class="btn btn-primary">{{ 'UNIFIED_REPORT_MODULE.SEARCH' | translate }}</button>

            <div class="pull-right" ng-dropdown-multiselect="" checkboxes="true" events="eventSettings" options="dataSelect" selected-model="modelSelect" extra-settings="settingsSelect" translation-texts="translationTexts"></div>
        </form>

        <div class="table-responsive">
            <table class="table" at-action-sortable-query at-table at-paginated at-list="reports" at-config="tableConfig">
                <thead></thead>
                <tbody>
                <tr>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.AD_TAG_GROUP' | translate }}" at-attribute="adTagGroupName">
                        {{ (!!item.adTagGroupName ? item.adTagGroupName : '') + (!!item.adTagGroupId ? '('+ item.adTagGroupId +')' : '') }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.COUNTRY' | translate }}" at-attribute="countryName">
                        {{ !!item.countryName ? item.countryName : '' }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.TOTAL_IMPS' | translate }}" at-sortable at-initial-sorting="desc" at-attribute="allImpressions">
                        {{ item.allImpressions | number }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.PAID_IMPS' | translate }}" at-sortable at-attribute="paidImpressions">
                        {{ item.paidImpressions | number }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.CPM' | translate }}" at-sortable at-attribute="cpm">
                        {{ item.cpm | currency }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.PUB_PAYOUT' | translate }}" at-sortable at-attribute="pubPayout">
                        {{ item.pubPayout | currency }}
                    </td>
                    <td at-title="{{ 'REPORT.FILL_RATE' | translate }}" at-sortable at-attribute="fillRate">
                        {{ item.fillRate | percentage }}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="page-unified">
            <pagination ng-if="showPagination()" class="pagination" boundary-links="true" previous-text="&lsaquo;" next-text="&rsaquo;" items-per-page="tableConfig.itemsPerPage" total-items="tableConfig.totalItems" ng-model="availableOptions.currentPage" max-size="tableConfig.maxPages" ng-change="changePage(availableOptions.currentPage)"></pagination>

            <select ng-if="tableConfig.totalItems > availableOptions.itemsPerPage[0]" ng-model="availableOptions.pageSize" class="form-control number-page-unified" ng-change="changePageSize(availableOptions.pageSize)">
                <option ng-repeat="option in availableOptions.itemsPerPage" ng-if="tableConfig.totalItems >= option" value="{{option}}">{{option}}</option>
            </select>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading"><span class="glyphicon glyphicon-th"></span> {{ 'REPORT.TOTALS' | translate }}</div>
                <div class="panel-body">
                    <ul class="list-unstyled report list-info">
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.TOTAL_IMPS' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.totalImps | number }}</span>
                        </li>
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.PAID_IMPS' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.paidImps | number }}</span>
                        </li>
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.CPM' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.cpm | currency }}</span>
                        </li>
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.PUB_PAYOUT' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.pubPayout | currency }}</span>
                        </li>
                        <li>
                            <label>{{ 'REPORT.FILL_RATE' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.fillRate | percentage }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading"><span class="glyphicon glyphicon-th"></span> {{ 'UNIFIED_REPORT_MODULE.AVERAGES' | translate }}</div>
                <div class="panel-body">
                    <ul class="list-unstyled report list-info">
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.TOTAL_IMPS' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.averageTotalImps | number }}</span>
                        </li>
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.PAID_IMPS' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.averagePaidImps | number }}</span>
                        </li>
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.CPM' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.averageCpm | currency }}</span>
                        </li>
                        <li>
                            <label>{{ 'UNIFIED_REPORT_MODULE.PUB_PAYOUT' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.averagePubPayout | currency }}</span>
                        </li>
                        <li>
                            <label>{{ 'REPORT.FILL_RATE' | translate }}</label>
                            <span class="pull-right">{{ reportGroup.averageFillRate | percentage }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>