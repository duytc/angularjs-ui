<div>
    <tc-unified-report-discrepancies-overview report-group="reportGroup"></tc-unified-report-discrepancies-overview>

    <div class="panel panel-default daily-reports">
        <div class="panel-heading"><span class="glyphicon glyphicon-th"></span>
            {{ 'UNIFIED_REPORT_MODULE.DETAILS' | translate }}

            <div class="button-bar hidden-xs">
                <export-excel ng-show="subBreakDown != 'day'" data="reports" fields="['name', 'partnerTotalOpportunities', 'tagcadeTotalOpportunities', 'totalOpportunityComparison', 'partnerPassbacks', 'tagcadePassbacks', 'passbacksComparison', 'partnerEstCPM', 'tagcadeECPM', 'eCPMComparison', 'revenueOpportunity']" header="['Ad Tag', 'Partner Requests', 'Tagcade Opportunities', 'Opportunity Comparison', 'Partner Passbacks', 'Tagcade Passbacks', 'Passback Comparison', 'Partner ECPM', 'Tagcade ECPM', 'ECPM Comparison', 'Revenue Opportunity']" file-name="getExportExcelFileName"></export-excel>
                <export-excel ng-show="subBreakDown == 'day'" data="reports" fields="['name', 'date', 'partnerTotalOpportunities', 'tagcadeTotalOpportunities', 'totalOpportunityComparison', 'partnerPassbacks', 'tagcadePassbacks', 'passbacksComparison', 'partnerEstCPM', 'tagcadeECPM', 'eCPMComparison', 'revenueOpportunity']" header="['Ad Tag', 'Date', 'Partner Requests', 'Tagcade Opportunities', 'Opportunity Comparison', 'Partner Passbacks', 'Tagcade Passbacks', 'Passback Comparison', 'Partner ECPM', 'Tagcade ECPM', 'ECPM Comparison', 'Revenue Opportunity']" file-name="getExportExcelFileName"></export-excel>
            </div>

            <div class="btn-group btnGrouped" dropdown>
                <button type="button" class="btn " dropdown-toggle><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></button>
                <ul class="dropdown-menu pull-right" role="menu">
                    <li><a>
                        <export-excel ng-show="subBreakDown != 'day'" data="reports" fields="['name', 'partnerTotalOpportunities', 'tagcadeTotalOpportunities', 'totalOpportunityComparison', 'partnerPassbacks', 'tagcadePassbacks', 'passbacksComparison', 'partnerEstCPM', 'tagcadeECPM', 'eCPMComparison', 'revenueOpportunity']" header="['Ad Tag', 'Partner Requests', 'Tagcade Opportunities', 'Opportunity Comparison', 'Partner Passbacks', 'Tagcade Passbacks', 'Passback Comparison', 'Partner ECPM', 'Tagcade ECPM', 'ECPM Comparison', 'Revenue Opportunity']" file-name="getExportExcelFileName"></export-excel>
                        <export-excel ng-show="subBreakDown == 'day'" data="reports" fields="['name', 'date', 'partnerTotalOpportunities', 'tagcadeTotalOpportunities', 'totalOpportunityComparison', 'partnerPassbacks', 'tagcadePassbacks', 'passbacksComparison', 'partnerEstCPM', 'tagcadeECPM', 'eCPMComparison', 'revenueOpportunity']" header="['Ad Tag', 'Date', 'Partner Requests', 'Tagcade Opportunities', 'Opportunity Comparison', 'Partner Passbacks', 'Tagcade Passbacks', 'Passback Comparison', 'Partner ECPM', 'Tagcade ECPM', 'ECPM Comparison', 'Revenue Opportunity']" file-name="getExportExcelFileName"></export-excel>
                    </a></li>
                </ul>
            </div>
        </div>

        <ul class="nav nav-tabs source-reports">
            <li role="presentation"><a ui-sref="^.partner(params)">{{ 'UNIFIED_REPORT_MODULE.UNIFIED' | translate }}</a></li>
            <li role="presentation"><a ui-sref="^.tagcadePartner(params)">{{ 'UNIFIED_REPORT_MODULE.TAGCADE' | translate }}</a></li>
            <li role="presentation" class="active"><a ui-sref="^.discrepanciesPartner(params)">{{ 'UNIFIED_REPORT_MODULE.DISCREPANCIES' | translate }}</a></li>
        </ul>

        <div class="table-responsive">
            <table class="table" at-table at-paginated at-list="reports" at-config="tableConfig">
                <thead></thead>
                <tbody>
                <tr>
                    <td at-title="{{ 'AD_NETWORK' | translate }}" at-sortable at-initial-sorting="asc" at-attribute="name">
                        {{ item.name }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.TAGCADE_OPPORTUNITIES' | translate }}" at-sortable at-attribute="tagcadeTotalOpportunities">
                        {{ item.tagcadeTotalOpportunities | number }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.PARTNER_REQUESTS' | translate }}" at-sortable at-attribute="partnerTotalOpportunities">
                        {{ item.partnerTotalOpportunities | number }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.OPPORTUNITY_COMPARISON' | translate }}" at-sortable at-attribute="totalOpportunityComparison">
                        {{ item.totalOpportunityComparison | percentageLunisolar }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.TAGCADE_PASSBACKS' | translate }}" at-sortable at-attribute="tagcadePassbacks">
                        {{ item.tagcadePassbacks | number }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.PARTNER_PASSBACKS' | translate }}" at-sortable at-attribute="partnerPassbacks">
                        {{ item.partnerPassbacks | number }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.PASSBACK_COMPARISON' | translate }}" at-sortable at-attribute="passbacksComparison">
                        {{ item.passbacksComparison | percentageLunisolar }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.TAGCADE_ECPM' | translate }}" at-sortable at-attribute="tagcadeEstCPM">
                        {{ item.tagcadeECPM | currency }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.PARTNER_ECPM' | translate }}" at-sortable at-attribute="partnerEstCPM">
                        {{ item.partnerEstCPM | currency }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.ECPM_COMPARISON' | translate }}" at-sortable at-attribute="eCPMComparison">
                        {{ item.eCPMComparison | percentageLunisolar }}
                    </td>
                    <td at-title="{{ 'UNIFIED_REPORT_MODULE.REVENUE_OPPORTUNITY' | translate }}" at-sortable at-attribute="revenueOpportunity">
                        {{ item.revenueOpportunity | currency }}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <at-pagination ng-if="showPagination()" class="table-footer" at-list="reports" at-config="tableConfig"></at-pagination>
    </div>

    <tc-unified-report-discrepancies-summary report-group="reportGroup"></tc-unified-report-discrepancies-summary>
</div>