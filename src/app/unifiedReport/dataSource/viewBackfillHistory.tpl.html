<div class="modal-header">
    <h4 class="modal-title">
        <strong>View Backfill history of Data Source:</strong> {{ dataSource.name }}
    </h4>


</div>
<div class="modal-body">
    <div class="table-responsive">
        <table class="table" at-table at-paginated at-list="backfillHistories" at-config="tableConfig" id="backfillHistories">
            <thead></thead>
            <tbody>
            <tr>
                <td at-title="#" at-implicit at-sortable at-attribute="id"></td>
                <td at-title="Created by" at-attribute="autoCreate">
                    <span ng-if="item.autoCreate == true">Auto</span>
                    <span ng-if="item.autoCreate == false">Manual</span>
                </td>
                <td at-title="Start Date" at-implicit at-sortable at-attribute="backFillStartDate"></td>
                <td at-title="End Date" at-implicit at-sortable at-attribute="backFillEndDate"></td>
                <td at-title="Queued At" at-sortable at-initial-sorting="asc" at-attribute="queuedAt">
                    {{ item.queuedAt | date:'MMM d, y H:mm:ss' }}
                </td>
                <td at-title="Finished At" at-sortable at-attribute="finishedAt">
                    {{ item.finishedAt | date:'MMM d, y H:mm:ss' }}
                </td>
                <td at-title="Status" at-sortable at-attribute="status">
                    <div ng-if="item.status == 0">Not Run</div>
                    <div ng-if="item.status == 1">Pending</div>
                    <div ng-if="item.status == 2">Finished</div>
                    <div ng-if="item.status == 3">Failed</div>
                </td>
                <td at-title="Data Source Integration" at-implicit at-sortable at-attribute="dataSourceIntegration.integration.name "></td>
            </tr>
            </tbody>
        </table>


        <div style="float:left; display: flex; margin-right: 20px; margin-top: 5px">
            <div style="margin-top: 25px;">
                <select id="selectItemsPerPage" ng-change="changeItemsPerPage()" ng-model="tableConfig.itemsPerPage">
                    <option ng-repeat="option in itemsPerPageList" value="{{option}}">{{option}}</option>
                </select>
                <label class="items-per-page" for="selectItemsPerPage"> Items Per Page </label>
            </div>
            <at-pagination ng-if="showPagination()" at-list="backfillHistories" at-config="tableConfig"></at-pagination>
        </div>

    </div>
</div>

<div class="modal-footer">
    <button class="btn btn-default" ng-click="$close()">{{ 'CLOSE' | translate }}</button>
</div>