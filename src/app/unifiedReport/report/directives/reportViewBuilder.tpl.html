<button class="btn btn-success" type="button" ng-click="addReportView()">
    <span class="glyphicon glyphicon-plus"></span>
    Add Report View
</button>

<div class="expressions-group" ng-repeat="reportView in reportBuilder.reportViewMultiViews">
    <div class="form-group select-connect-data-source">
        <button type="button" class="btn btn-danger btn-close-ur" ng-click="removeReportView($index)">
            <span class="glyphicon glyphicon-minus "></span>
        </button>
    </div>

    <div class="form-group select-connect-data-source">
        <label class="control-label">Report View</label>
        <div>
            <ui-select ng-model="reportView.subView" ng-required="true" server-error on-select="selectReportView($item, reportView)" reset-search-input="'false'">
                <ui-select-match placeholder="Select a report view">{{ $select.selected.name + ' (ID: ' + $select.selected.id + ')' }}</ui-select-match>
                <ui-select-choices repeat="reportView.id as reportView in getReportView(reportView.subView) | selectedPublisher:reportBuilder.publisher | filter:$select.search">
                    {{ reportView.name + ' (ID: ' + reportView.id + ')' }}
                </ui-select-choices>
            </ui-select>
        </div>
    </div>

    <div ng-if="(reportView.tempDimensions.length > 0 && subReportsIncluded) || reportView.tempMetrics.length > 0">
        <label class="ui-checkbox"><input name="field[]" type="checkbox" ng-model="reportView.selectAllDimensionsMetrics" ng-click="selectAllDimensionsMetrics(reportView)"><span>Select All</span></label>
    </div>

    <div class="form-group" ng-if="reportView.tempDimensions.length > 0 && subReportsIncluded">
        <label class="control-label">Dimensions</label>
        <div>
            <div ng-repeat="field in reportView.tempDimensions" class="col-sm-4">
                <label class="ui-checkbox"><input name="field[]" type="checkbox" ng-click="toggleField(field, reportView.dimensions, reportView)" ng-checked="hasField(field, reportView.dimensions)">
                    <span>{{ field.label }}</span>
                </label>
            </div>
        </div>
    </div>

    <div class="form-group" ng-if="reportView.tempMetrics.length > 0">
        <label class="control-label">Metrics</label>
        <div>
            <div ng-repeat="field in reportView.tempMetrics" class="col-sm-4">
                <label class="ui-checkbox"><input name="field[]" type="checkbox" ng-click="toggleField(field, reportView.metrics, reportView)" ng-checked="hasField(field, reportView.metrics)">
                    <span>{{ field.label }}</span>
                </label>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label">Filters</label>
        <div>
            <div class="expressions-group">
                <filter-report-view filters="reportView.filters" map-fields="reportView.dimensionsMetrics" dimensions-metrics="reportView.dimensionsMetrics"></filter-report-view>
            </div>
        </div>
    </div>
</div>