<div class="modal-header">
    <h4 class="modal-title"><strong>Preview Data</strong></h4>
</div>
<div class="modal-body">
    <div class="row" id="performance-report-selector">
        <tabset class="nav-tab-margin-linked">
            <tab heading="Processed Data">
                <div>
                    <div class="form-inline">
                        <div class="select-width-400 form-group">
                            <label>Imported Data Source</label>
                            <ui-select ng-model="processedDataSelectedData.importedDataSource" ng-required="true">
                                <ui-select-match placeholder="Select a imported data source">{{ $select.selected.fileName }}</ui-select-match>
                                <ui-select-choices repeat="entry.id as entry in dataSourceEntries | filter: $select.search">
                                    {{ entry.fileName }}
                                </ui-select-choices>
                            </ui-select>
                        </div>

                        <button type="button" ng-disabled="!processedDataSelectedData.importedDataSource" class="btn btn-primary" ng-click="viewProcessedData()">View Processed Data</button>
                    </div>
                </div>

                <div class="table-responsive table-report-view">
                    <table class="table">
                        <thead>
                        <tr>
                            <th ng-repeat="column in processedColumns">{{ reportProcessedData.columns[column] }}</th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr>
                            <td ng-repeat="column in processedColumns">
                                <input type="text" ng-model="search[column]">
                            </td>
                        </tr>

                        <tr dir-paginate="report in processedReports | filter:search | itemsPerPage:tableConfigProcessed.itemsPerPage" current-page="tableConfigProcessed.currentPage" pagination-id="processed">
                            <td ng-class="{minWidth100: (types[column] == 'date' || types[column] == 'datetime')}" ng-repeat="column in processedColumns">
                                <span ng-if="!isNullValue(report, column)"> {{ report[column]}} </span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <dir-pagination-controls pagination-id="processed" max-size="10" direction-links="true" boundary-links="true"></dir-pagination-controls>
                </div>

                <span class="help-block pull-right" ng-if="reportProcessedData.total > 0">{{ reportProcessedData.total }} of {{ getTotalRowDataSourceEntry(processedDataSelectedData.importedDataSource) }} Rows</span>
            </tab>
            <tab heading="Original Data">
                <div>
                    <div class="form-inline">
                        <div class="select-width-400 form-group">
                            <label>Imported Data Source</label>
                            <ui-select ng-model="originalDataSelectedData.importedDataSource" ng-required="true">
                                <ui-select-match placeholder="Select a imported data source">{{ $select.selected.fileName }}</ui-select-match>
                                <ui-select-choices repeat="entry.id as entry in dataSourceEntries | filter: $select.search">
                                    {{ entry.fileName }}
                                </ui-select-choices>
                            </ui-select>
                        </div>

                        <div class="select-alert-timezone form-group">
                            <label>Limit</label>
                            <ui-select ng-model="originalDataSelectedData.limit" ng-required="true">
                                <ui-select-match placeholder="Select a ">{{ $select.selected.label }}</ui-select-match>
                                <ui-select-choices repeat="item.key as item in itemsPerPage | filter: $select.search">
                                    {{ item.label }}
                                </ui-select-choices>
                            </ui-select>
                        </div>

                        <button type="button" ng-disabled="!originalDataSelectedData.importedDataSource" class="btn btn-primary" ng-click="viewOriginalData()">View Original Data</button>
                    </div>
                </div>

                <div class="table-responsive table-report-view">
                    <table class="table">
                        <thead>
                        <tr>
                            <th ng-repeat="column in originalColumns">{{ column }}</th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr dir-paginate="report in originalReports | itemsPerPage:tableConfigOriginal.itemsPerPage" current-page="tableConfigOriginal.currentPage" pagination-id="original">
                            <td ng-repeat="column in originalColumns">
                                <span ng-if="!isNullValue(report, column)"> {{ report[column]}} </span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <dir-pagination-controls pagination-id="original" max-size="10" direction-links="true" boundary-links="true"></dir-pagination-controls>
                </div>

                <span class="help-block pull-right" ng-if="originalReports.length > 0">{{ originalReports.length }} of {{ originalData.total }} Rows</span>
            </tab>
        </tabset>
    </div>
</div>

<div class="modal-footer">
    <button class="btn btn-default" ng-click="$close()">{{ 'CLOSE' | translate }}</button>
</div>