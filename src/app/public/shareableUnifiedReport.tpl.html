<section class="panel panel-default">
    <div class="panel-heading">
        <span class="glyphicon glyphicon-th"></span> <strong current-page-title></strong>
        <div class="button-bar">
            <export-excel ng-if="reports.length > 0" not-filter="true" data="reports" style="margin-right: 3px" fields="columnReportDetailForExportExcel" header="titleReportDetailForExportExcel" file-name="getExportExcelFileName()"></export-excel>
        </div>
    </div>

    <div class="panel-body" ng-if="reports.length > 0">
        <div class="table-responsive">
            <table class="table">
                <thead>
                <tr>
                    <th ng-repeat="column in columnPositions" ng-click="sort(column)">{{ titleColumns[column] }}
                        <span class="glyphicon glyphicon-minus" ng-show="!isShow(column)"></span>
                        <span class="glyphicon" ng-show="isShow(column)" ng-class="{'glyphicon-chevron-up':!reverse,'glyphicon-chevron-down':reverse}"></span>
                    </th>
                </tr>
                </thead>

                <tbody>
                    <tr dir-paginate="report in tempReports | orderBy:sortBy:reverse | itemsPerPage:tableConfig.itemsPerPage">
                        <td ng-if="hasSort" ng-repeat="column in columnPositions">
                            <span ng-if="!isNullValue(reports[report.position], column)"> {{ reports[report.position][column] }} </span>
                            <span ng-if="isNullValue(reports[report.position], column)"> &ltno value&gt </span>
                        </td>
                    </tr>

                    <tr dir-paginate="report in reports | itemsPerPage:tableConfig.itemsPerPage">
                        <td ng-if="!hasSort" ng-repeat="column in columnPositions">
                            <span ng-if="!isNullValue(report, column)"> {{ report[column]}} </span>
                            <span ng-if="isNullValue(report, column)"> &ltno value&gt </span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="pagination">
                <dir-pagination-controls max-size="10" direction-links="true" boundary-links="true"></dir-pagination-controls>
                <items-per-page init="tableConfig.itemsPerPage" range="itemsPerPage" sources="reports"></items-per-page>
            </div>
        </div>
    </div>
</section>

<section style="min-height: 200px">
    <div class="row">
        <div class="col-md-6" ng-if="isEmptyObject(total)">
            <div class="panel panel-default">
                <div class="panel-heading"><span class="glyphicon glyphicon-th"></span> Totals</div>
                <div class="panel-body">
                    <ul class="list-unstyled report-builder list-info">
                        <li ng-repeat="(key, value) in total">
                            <label>{{ !!titleColumns[key] ? titleColumns[key] : key }}</label>
                            <span class="pull-right">{{ value }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-6" ng-if="isEmptyObject(average)">
            <div class="panel panel-default">
                <div class="panel-heading"><span class="glyphicon glyphicon-th"></span> Averages</div>
                <div class="panel-body">
                    <ul class="list-unstyled report-builder list-info">
                        <li ng-repeat="(key, value) in average">
                            <label>{{ !!titleColumns[key] ? titleColumns[key] : key }}</label>
                            <span class="pull-right">{{ value }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>