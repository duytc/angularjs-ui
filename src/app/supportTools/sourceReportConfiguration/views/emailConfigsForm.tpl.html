<div class="modal-header">
    <button type="button" class="close" ng-click="$dismiss()">Ã—</button>
    <h4 class="modal-title">Add New Email Config</h4>
</div>
<div class="modal-body">
    <div class="row source-report-configuration">

        <form name="sourceReportConfig" class="col-lg-12 form-validation form-horizontal" role="form" ng-submit="submit()" novalidate>
            <div class="form-group">
                <label for="inputEmail" class="col-sm-2 control-label">Receiving Email</label>
                <div class="col-sm-10">
                    <div ng-repeat="emailReceive in emailReceive" class="emailInput">
                        <div class="input-group">
                            <input name="email[]" server-error ng-required="true" type="email" ng-model="emailReceive.email" class="form-control" id="inputEmail" placeholder="More receiving email">
                            <span class="input-group-addon" ng-click="removeEmailInput(emailReceive)"><i class="fa fa-remove"></i></span>
                        </div>
                    </div>
                    <a class="help-block" ng-click="addEmailInput()">Add another email</a>
                </div>
            </div>

            <div class="form-group">
                <label for="inputIncludedAll" class="col-sm-2 control-label">Included All</label>
                <div class="col-sm-10">
                    <label class="ui-checkbox"><input server-error name="active" type="checkbox" ng-model="selected.includedAll" id="inputIncludedAll"><span></span></label>
                </div>
            </div>

            <div class="form-group" ng-if="!selected.includedAll">
                <label for="inputPublisher" class="col-sm-2 control-label">Publisher</label>
                <div class="col-sm-10">
                    <ui-select id="inputPublisher" ng-model="selected.publisher" ng-required="true" server-error on-select="selectPublisher($model)">
                        <ui-select-match placeholder="Select a publisher">{{ $select.selected.company }}</ui-select-match>
                        <ui-select-choices repeat="publisher.id as publisher in publishers | orderBy: 'company' | filter:{ company: $select.search }">
                            {{ publisher.company }}
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>

            <div class="row">
                <div ng-if="!selected.includedAll" class="col-lg-offset-2 col-sm-10">
                    <div class="col-sm-5">
                        <section class="panel panel-default row">
                            <div class="panel-heading">Available Reports</div>
                            <select multiple="multiple">
                                <option ng-repeat="site in sitesNoConfig" ng-dblclick="sitesHasConfigPush(site)">{{ site.domain }}</option>
                            </select>
                        </section>
                    </div>
                    <div class="col-sm-2 center-col-source-report">
                        <span class="fa fa-chevron-right fa-2x col-lg-12" ng-click="sitesHasConfigPushAll(sitesNoConfig)"><span class="fa fa-chevron-right"></span></span>
                        <span class="fa fa-chevron-left fa-2x col-lg-12" ng-click="sitesHasConfigDropAll(sitesHasConfig)"><span class="fa fa-chevron-left"></span></span>
                    </div>
                    <div class="col-sm-5">
                        <section class="panel panel-default row">
                            <div class="panel-heading">Selected Reports</div>
                            <select multiple="multiple">
                                <option ng-repeat="site in sitesHasConfig" ng-dblclick="sitesHasConfigDrop(site)">{{ site.domain }}</option>
                            </select>
                        </section>
                    </div>
                </div>

                <div class="col-lg-offset-2 col-sm-10">
                    <button ng-disabled="!isFormValid()" type="submit" class="btn btn-success" ng-click="$dismiss()">Submit</button>
                    <div ng-show="!isFormValid()" class="callout callout-info">
                        <p>Submit button will be active only when all fields are valid.</p>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>